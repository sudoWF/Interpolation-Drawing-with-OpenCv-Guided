#include <stdio.h>

//=================================================================================
//以下内容无需移植 
typedef unsigned char u8; 
typedef unsigned int u16; 

u8 PenStatus = 0;  //笔的状态，0--抬起，1--放下 
FILE *fp;


//延时函数，为确保与单片机一致，这里放一个空函数
void delay_ms(u16 time)
{
	return;
}
//读取键盘输入，仿真时用电脑键盘代替开发板键盘 
char key()
{
	char str = 0;
	
	str = getch();
	return str; 
}
//改变笔的状态 
void SetTim4Pwm(u8 chn,u16 angle)	//抬起笔
{
	if(angle > 120)  //抬笔
		PenStatus = 0; 
	else PenStatus = 1;  
}

//X电机驱动函数，这里替换为生成数据保存用于观察 
void MotorXDriver(u16 plus,u8 dir,u16 time)
{
	u16 i;

	fprintf(fp,"x,%d,%d,%d\n", plus,dir,PenStatus);
}
//Y电机驱动函数，这里替换为生成数据保存用于观察 
void MotorYDriver(u16 plus,u8 dir,u16 time)
{
	u16 i;

	fprintf(fp,"y,%d,%d,%d\n", plus,dir,PenStatus);
}
//=================================================================================
//以下内容仿真成功后移植到开发板 
//移动函数
void Move(u16 x0,u16 y0,u16 x1,u16 y1)
{
	//抬起笔
	SetTim4Pwm(1,180);
	delay_ms(50);

	//先X方向移动
	if(x1>=x0)
		MotorXDriver(x1-x0,0,100);
	else MotorXDriver(x0-x1,1,100);
	
	//再Y方向移动
	if(y1>=y0)
		MotorYDriver(y1-y0,0,100);
	else MotorYDriver(y0-y1,1,100);
}



void DrawLine(int x0, int y0, int x1, int y1) {
//	Bresenham算法
	//定义局部变量
	int xplus = 0;  //X轴每次要走的步数
	int xdir = 0;	 //X轴每次要走的方向	
	int yplus = 0;  //Y轴每次要走的步数
	int ydir = 0;    //Y轴每次要走的方向
	int x = 0 ,y = 0; 
	
	SetTim4Pwm(1,90);	 //放下笔
	delay_ms(50);
	
    int dx = abs(x1 - x0), sx = x0 < x1 ? 1 : -1;
    int dy = abs(y1 - y0), sy = y0 < y1 ? 1 : -1;
    int err = (dx > dy ? dx : -dy) / 2;

    while (x0 != x1 || y0 != y1) 
	{
        int e2 = err;
        int a=x0,b=y0;
        int wx,wy;
        
        if (e2 > -dx)
		{
			err -= dy;
			x0 += sx;
		}
        if (e2 <  dy)
		{
			err += dx;
			y0 += sy;
		}
		
        wx = x0-a; wy = y0-b;
        xplus=abs(wx); yplus=abs(wy);
        
        if(wx>0)
		{
			xdir=0;
		}
        else xdir=1;
        if(wy>0)
		{
			ydir=0;
		}
        else ydir=1;
    	MotorXDriver(xplus,xdir,100);
		MotorYDriver(yplus,ydir,100);
//    fprintf(fp,"x,%d,%d,%d\n", xplus,xdir,PenStatus);
//    fprintf(fp,"y,%d,%d,%d\n", yplus,ydir,PenStatus);
    }
}



int main(void)
{	
	int x =0 ,y = 0;   //定义初始坐标
	int i =0 ,j = 0;
	int n;
	u8 key_num;
	
	//定义要走的路径
	u16 point[1722][3]={
{0,78,129},
{0,79,128},
{0,81,128},
{0,82,129},
{0,83,129},
{0,85,131},
{0,85,133},
{0,86,134},
{0,85,135},
{0,85,137},
{0,84,138},
{0,84,139},
{0,83,140},
{0,83,141},
{0,81,143},
{0,81,144},
{0,80,145},
{0,80,146},
{0,78,148},
{0,78,149},
{0,75,152},
{0,73,152},
{0,72,151},
{0,71,151},
{0,70,150},
{0,70,148},
{0,69,147},
{0,69,142},
{0,70,141},
{0,70,134},
{0,75,129},
{1,79,128},
{1,78,129},
{1,74,129},
{1,70,133},
{1,70,141},
{1,69,142},
{1,69,147},
{1,70,148},
{1,70,151},
{1,72,151},
{1,73,152},
{1,76,152},
{1,78,150},
{1,78,149},
{1,80,147},
{1,80,146},
{1,81,145},
{1,81,144},
{1,83,142},
{1,83,141},
{1,84,140},
{1,84,139},
{1,85,138},
{1,85,135},
{1,86,134},
{1,85,133},
{1,85,130},
{1,84,129},
{1,82,129},
{1,81,128},
{2,109,109},
{2,108,110},
{2,106,110},
{2,109,110},
{2,110,109},
{2,111,109},
{3,247,100},
{3,246,101},
{3,246,102},
{3,245,103},
{3,245,104},
{3,244,105},
{3,244,107},
{3,243,108},
{3,243,112},
{3,244,113},
{3,246,113},
{3,247,114},
{3,248,113},
{3,251,113},
{3,252,114},
{3,256,114},
{3,257,115},
{3,259,115},
{3,260,116},
{3,261,116},
{3,262,117},
{3,264,117},
{3,265,118},
{3,266,118},
{3,267,119},
{3,269,119},
{3,267,119},
{3,266,118},
{3,265,118},
{3,264,117},
{3,262,117},
{3,261,116},
{3,260,116},
{3,259,115},
{3,257,115},
{3,256,114},
{3,252,114},
{3,251,113},
{3,248,113},
{3,247,114},
{3,246,113},
{3,245,113},
{3,243,111},
{3,243,108},
{3,244,107},
{3,244,106},
{3,245,105},
{3,245,104},
{3,246,103},
{3,246,102},
{3,248,100},
{3,254,100},
{3,255,101},
{3,260,101},
{3,261,102},
{3,264,102},
{3,265,103},
{3,266,103},
{3,268,105},
{3,269,105},
{3,271,107},
{3,271,108},
{3,272,109},
{3,272,117},
{3,271,118},
{3,271,119},
{3,272,118},
{3,272,109},
{3,271,108},
{3,271,106},
{3,270,105},
{3,269,105},
{3,267,103},
{3,265,103},
{3,264,102},
{3,261,102},
{3,260,101},
{3,255,101},
{3,254,100},
{4,104,98},
{4,105,99},
{4,105,100},
{4,104,101},
{4,105,101},
{4,109,105},
{4,110,105},
{4,111,106},
{4,111,107},
{4,111,105},
{4,110,105},
{4,105,100},
{4,105,99},
{4,106,98},
{4,109,98},
{4,110,99},
{4,111,99},
{4,113,101},
{4,114,101},
{4,119,106},
{4,119,125},
{4,118,126},
{4,118,127},
{4,115,130},
{4,110,130},
{4,107,127},
{4,107,126},
{4,109,124},
{4,112,124},
{4,113,123},
{4,113,118},
{4,109,114},
{4,108,114},
{4,107,113},
{4,107,112},
{4,106,113},
{4,107,114},
{4,108,114},
{4,110,116},
{4,111,116},
{4,112,117},
{4,112,118},
{4,113,119},
{4,113,122},
{4,111,124},
{4,108,124},
{4,107,125},
{4,107,128},
{4,109,130},
{4,116,130},
{4,118,128},
{4,118,126},
{4,119,125},
{4,119,105},
{4,115,101},
{4,114,101},
{4,112,99},
{4,110,99},
{4,109,98},
{5,211,97},
{5,212,96},
{5,215,96},
{5,216,97},
{5,219,97},
{5,220,98},
{5,222,98},
{5,223,99},
{5,224,99},
{5,225,100},
{5,226,100},
{5,228,102},
{5,229,102},
{5,231,104},
{5,232,104},
{5,233,105},
{5,233,106},
{5,234,107},
{5,234,108},
{5,235,109},
{5,235,111},
{5,236,112},
{5,236,114},
{5,237,115},
{5,237,116},
{5,240,119},
{5,240,120},
{5,247,127},
{5,248,127},
{5,251,130},
{5,252,130},
{5,254,132},
{5,255,132},
{5,256,133},
{5,258,133},
{5,259,134},
{5,262,134},
{5,263,133},
{5,266,133},
{5,267,132},
{5,268,132},
{5,276,124},
{5,277,124},
{5,278,123},
{5,280,123},
{5,281,124},
{5,282,124},
{5,286,128},
{5,286,129},
{5,287,130},
{5,287,131},
{5,286,132},
{5,286,133},
{5,284,135},
{5,283,135},
{5,281,137},
{5,280,137},
{5,279,138},
{5,278,138},
{5,277,139},
{5,276,139},
{5,273,142},
{5,272,142},
{5,270,144},
{5,271,145},
{5,270,146},
{5,270,147},
{5,271,148},
{5,271,149},
{5,272,150},
{5,272,151},
{5,276,155},
{5,277,155},
{5,279,157},
{5,279,160},
{5,275,164},
{5,269,164},
{5,267,162},
{5,267,161},
{5,265,159},
{5,265,158},
{5,263,156},
{5,263,155},
{5,259,151},
{5,259,150},
{5,241,132},
{5,241,131},
{5,211,101},
{5,211,100},
{5,210,99},
{5,211,98},
{6,211,96},
{6,210,97},
{6,211,98},
{6,210,99},
{6,211,100},
{6,211,102},
{6,221,112},
{6,222,112},
{6,224,114},
{6,224,115},
{6,242,133},
{6,242,134},
{6,259,151},
{6,259,152},
{6,263,156},
{6,263,157},
{6,265,159},
{6,265,160},
{6,267,162},
{6,267,163},
{6,268,164},
{6,275,164},
{6,276,163},
{6,277,163},
{6,279,161},
{6,279,158},
{6,280,157},
{6,278,155},
{6,277,155},
{6,271,149},
{6,271,148},
{6,270,147},
{6,270,146},
{6,271,145},
{6,271,144},
{6,273,142},
{6,274,142},
{6,277,139},
{6,278,139},
{6,279,138},
{6,280,138},
{6,281,137},
{6,282,137},
{6,284,135},
{6,285,135},
{6,287,133},
{6,286,132},
{6,287,131},
{6,287,130},
{6,286,129},
{6,286,127},
{6,283,124},
{6,281,124},
{6,280,123},
{6,278,123},
{6,277,124},
{6,275,124},
{6,267,132},
{6,266,132},
{6,265,133},
{6,263,133},
{6,262,134},
{6,259,134},
{6,258,133},
{6,257,133},
{6,256,132},
{6,255,132},
{6,254,131},
{6,253,131},
{6,249,127},
{6,248,127},
{6,240,119},
{6,240,118},
{6,237,115},
{6,237,114},
{6,236,113},
{6,236,112},
{6,235,111},
{6,235,109},
{6,234,108},
{6,234,106},
{6,233,105},
{6,233,104},
{6,232,104},
{6,230,102},
{6,229,102},
{6,227,100},
{6,226,100},
{6,225,99},
{6,223,99},
{6,222,98},
{6,220,98},
{6,219,97},
{6,216,97},
{6,215,96},
{7,257,86},
{7,258,85},
{7,259,85},
{7,264,90},
{7,264,92},
{7,263,93},
{7,257,93},
{7,256,94},
{7,253,94},
{7,252,93},
{7,252,90},
{7,256,86},
{8,256,85},
{8,251,90},
{8,252,91},
{8,252,94},
{8,256,94},
{8,257,93},
{8,264,93},
{8,265,92},
{8,264,91},
{8,264,89},
{8,260,85},
{8,258,85},
{8,257,86},
{9,301,80},
{9,302,81},
{9,303,81},
{9,305,83},
{9,305,87},
{9,306,88},
{9,306,114},
{9,307,115},
{9,307,122},
{9,308,123},
{9,308,125},
{9,307,126},
{9,307,127},
{9,306,128},
{9,305,128},
{9,304,129},
{9,302,129},
{9,301,130},
{9,298,130},
{9,297,129},
{9,296,129},
{9,295,128},
{9,295,126},
{9,294,125},
{9,295,124},
{9,295,100},
{9,296,99},
{9,296,90},
{9,297,89},
{9,297,84},
{10,301,80},
{10,300,81},
{10,299,81},
{10,298,82},
{10,298,83},
{10,297,84},
{10,297,89},
{10,296,90},
{10,296,99},
{10,295,100},
{10,295,124},
{10,294,125},
{10,295,126},
{10,295,129},
{10,296,130},
{10,297,129},
{10,298,130},
{10,301,130},
{10,302,129},
{10,305,129},
{10,306,128},
{10,307,128},
{10,308,127},
{10,307,126},
{10,308,125},
{10,308,123},
{10,307,122},
{10,307,115},
{10,306,114},
{10,306,88},
{10,305,87},
{10,305,83},
{10,304,82},
{10,304,81},
{10,303,80},
{10,302,81},
{11,70,79},
{11,69,80},
{11,69,87},
{11,70,88},
{11,70,91},
{11,71,92},
{11,71,95},
{11,72,96},
{11,72,98},
{11,73,99},
{11,73,101},
{11,80,108},
{11,79,109},
{11,79,110},
{11,76,113},
{11,75,113},
{11,73,115},
{11,66,115},
{11,65,114},
{11,64,114},
{11,63,113},
{11,61,113},
{11,60,112},
{11,57,112},
{11,56,111},
{11,51,111},
{11,50,110},
{11,46,110},
{11,45,109},
{11,44,109},
{11,43,108},
{11,42,108},
{11,43,109},
{11,45,109},
{11,46,110},
{11,50,110},
{11,51,111},
{11,56,111},
{11,57,112},
{11,60,112},
{11,61,113},
{11,62,113},
{11,63,114},
{11,64,114},
{11,65,115},
{11,74,115},
{11,76,113},
{11,77,113},
{11,79,111},
{11,79,109},
{11,80,108},
{11,79,107},
{11,79,106},
{11,73,100},
{11,73,99},
{11,72,98},
{11,72,96},
{11,71,95},
{11,71,92},
{11,70,91},
{11,70,88},
{11,69,87},
{11,69,81},
{11,70,80},
{11,71,80},
{11,72,79},
{11,73,80},
{11,74,80},
{11,77,83},
{11,78,83},
{11,79,84},
{11,79,85},
{11,82,88},
{11,82,89},
{11,83,90},
{11,83,91},
{11,84,92},
{11,84,94},
{11,84,92},
{11,85,91},
{11,87,93},
{11,87,94},
{11,87,92},
{11,88,91},
{11,89,91},
{11,90,90},
{11,95,95},
{11,95,98},
{11,96,99},
{11,96,100},
{11,95,101},
{11,95,114},
{11,96,115},
{11,96,122},
{11,95,123},
{11,95,124},
{11,94,125},
{11,93,125},
{11,92,126},
{11,90,126},
{11,90,130},
{11,91,131},
{11,91,132},
{11,93,134},
{11,93,135},
{11,95,137},
{11,95,138},
{11,98,141},
{11,98,142},
{11,102,146},
{11,102,147},
{11,106,151},
{11,106,152},
{11,112,158},
{11,112,159},
{11,113,159},
{11,114,160},
{11,119,160},
{11,124,155},
{11,124,151},
{11,122,149},
{11,121,149},
{11,120,148},
{11,119,148},
{11,117,146},
{11,116,146},
{11,113,143},
{11,112,143},
{11,110,141},
{11,109,141},
{11,107,139},
{11,107,138},
{11,109,136},
{11,112,136},
{11,113,137},
{11,126,137},
{11,127,136},
{11,129,136},
{11,130,135},
{11,132,135},
{11,133,134},
{11,133,129},
{11,132,128},
{11,132,125},
{11,131,124},
{11,131,119},
{11,130,118},
{11,130,113},
{11,132,111},
{11,133,111},
{11,134,110},
{11,135,111},
{11,138,111},
{11,139,112},
{11,141,112},
{11,142,113},
{11,144,113},
{11,145,114},
{11,147,114},
{11,148,115},
{11,149,115},
{11,153,119},
{11,153,121},
{11,154,122},
{11,154,129},
{11,153,130},
{11,153,151},
{11,154,152},
{11,154,158},
{11,156,160},
{11,160,160},
{11,161,159},
{11,163,159},
{11,164,158},
{11,165,158},
{11,166,157},
{11,168,157},
{11,169,156},
{11,170,156},
{11,168,156},
{11,167,157},
{11,166,157},
{11,165,158},
{11,163,158},
{11,162,159},
{11,161,159},
{11,160,160},
{11,157,160},
{11,154,157},
{11,154,152},
{11,153,151},
{11,153,130},
{11,154,129},
{11,154,122},
{11,153,121},
{11,153,118},
{11,150,115},
{11,148,115},
{11,147,114},
{11,145,114},
{11,144,113},
{11,142,113},
{11,141,112},
{11,139,112},
{11,138,111},
{11,135,111},
{11,134,110},
{11,133,111},
{11,131,111},
{11,130,112},
{11,130,118},
{11,131,119},
{11,131,124},
{11,132,125},
{11,132,128},
{11,133,129},
{11,133,133},
{11,131,135},
{11,130,135},
{11,129,136},
{11,127,136},
{11,126,137},
{11,113,137},
{11,112,136},
{11,108,136},
{11,107,137},
{11,107,140},
{11,108,140},
{11,111,143},
{11,112,143},
{11,115,146},
{11,116,146},
{11,118,148},
{11,119,148},
{11,120,149},
{11,121,149},
{11,124,152},
{11,124,154},
{11,118,160},
{11,115,160},
{11,114,159},
{11,113,159},
{11,111,157},
{11,111,156},
{11,106,151},
{11,106,150},
{11,102,146},
{11,102,145},
{11,98,141},
{11,98,140},
{11,95,137},
{11,95,136},
{11,93,134},
{11,93,133},
{11,91,131},
{11,91,130},
{11,90,129},
{11,90,127},
{11,91,126},
{11,92,126},
{11,93,125},
{11,95,125},
{11,95,123},
{11,96,122},
{11,96,115},
{11,95,114},
{11,95,101},
{11,96,100},
{11,96,99},
{11,95,98},
{11,95,94},
{11,92,91},
{11,91,91},
{11,90,90},
{11,89,91},
{11,88,91},
{11,87,92},
{11,86,92},
{11,85,91},
{11,84,92},
{11,83,91},
{11,83,89},
{11,82,88},
{11,82,87},
{11,79,84},
{11,79,83},
{11,78,83},
{11,74,79},
{11,73,80},
{11,72,79},
{11,71,80},
{12,239,78},
{12,240,77},
{12,242,77},
{12,243,78},
{12,245,78},
{12,246,79},
{12,247,79},
{12,248,80},
{12,248,83},
{12,247,84},
{12,246,84},
{12,245,85},
{12,244,85},
{12,242,87},
{12,241,87},
{12,239,89},
{12,238,89},
{12,237,90},
{12,236,90},
{12,233,87},
{12,233,85},
{12,234,84},
{12,234,83},
{12,235,82},
{12,235,81},
{12,238,78},
{13,238,77},
{13,235,80},
{13,235,81},
{13,234,82},
{13,234,84},
{13,233,85},
{13,233,88},
{13,234,89},
{13,235,89},
{13,236,90},
{13,237,90},
{13,238,89},
{13,240,89},
{13,242,87},
{13,243,87},
{13,245,85},
{13,246,85},
{13,247,84},
{13,248,84},
{13,249,83},
{13,248,82},
{13,248,81},
{13,249,80},
{13,248,79},
{13,247,79},
{13,246,78},
{13,243,78},
{13,242,77},
{13,240,77},
{13,239,78},
{14,112,59},
{14,113,58},
{14,114,59},
{14,116,59},
{14,118,61},
{14,118,62},
{14,119,63},
{14,119,84},
{14,118,85},
{14,117,85},
{14,116,86},
{14,113,83},
{14,113,82},
{14,111,80},
{14,111,79},
{14,108,76},
{14,108,75},
{14,107,74},
{14,107,73},
{14,105,71},
{14,105,69},
{14,104,68},
{14,104,66},
{14,102,64},
{14,102,63},
{14,106,59},
{15,113,58},
{15,112,59},
{15,106,59},
{15,105,60},
{15,104,60},
{15,103,61},
{15,103,62},
{15,101,64},
{15,100,63},
{15,100,62},
{15,99,62},
{15,104,67},
{15,104,68},
{15,105,69},
{15,105,71},
{15,106,72},
{15,106,73},
{15,107,74},
{15,107,75},
{15,108,76},
{15,108,77},
{15,111,80},
{15,111,81},
{15,113,83},
{15,113,84},
{15,115,86},
{15,116,86},
{15,117,85},
{15,118,86},
{15,118,87},
{15,118,86},
{15,119,85},
{15,119,63},
{15,118,62},
{15,118,60},
{15,117,59},
{15,114,59},
{16,103,58},
{17,66,55},
{17,65,56},
{17,65,57},
{17,64,58},
{17,64,59},
{17,63,60},
{17,63,61},
{17,62,62},
{17,62,64},
{17,61,65},
{17,61,67},
{17,60,68},
{17,60,73},
{17,59,74},
{17,59,78},
{17,60,79},
{17,60,87},
{17,61,88},
{17,61,97},
{17,59,99},
{17,58,99},
{17,57,100},
{17,55,98},
{17,54,98},
{17,52,96},
{17,47,96},
{17,45,98},
{17,45,99},
{17,44,100},
{17,44,101},
{17,43,102},
{17,43,104},
{17,42,105},
{17,42,106},
{17,42,105},
{17,43,104},
{17,43,103},
{17,44,102},
{17,44,101},
{17,45,100},
{17,45,99},
{17,48,96},
{17,51,96},
{17,53,98},
{17,54,98},
{17,55,99},
{17,56,99},
{17,57,100},
{17,58,99},
{17,60,99},
{17,61,98},
{17,61,88},
{17,60,87},
{17,60,79},
{17,59,78},
{17,59,74},
{17,60,73},
{17,60,68},
{17,61,67},
{17,61,65},
{17,62,64},
{17,62,63},
{17,63,62},
{17,63,60},
{17,65,58},
{17,65,57},
{17,66,56},
{17,67,56},
{17,68,55},
{17,69,55},
{17,73,59},
{17,73,60},
{17,75,62},
{17,75,63},
{17,77,65},
{17,77,66},
{17,78,67},
{17,78,68},
{17,80,70},
{17,80,71},
{17,81,72},
{17,81,73},
{17,82,74},
{17,82,75},
{17,84,77},
{17,84,78},
{17,85,79},
{17,86,79},
{17,88,81},
{17,89,81},
{17,91,83},
{17,92,83},
{17,94,85},
{17,95,85},
{17,96,86},
{17,97,86},
{17,98,87},
{17,100,87},
{17,102,89},
{17,104,89},
{17,105,90},
{17,106,90},
{17,105,90},
{17,104,89},
{17,103,89},
{17,101,87},
{17,99,87},
{17,98,86},
{17,97,86},
{17,96,85},
{17,95,85},
{17,93,83},
{17,92,83},
{17,90,81},
{17,89,81},
{17,87,79},
{17,86,79},
{17,84,77},
{17,84,76},
{17,82,74},
{17,82,73},
{17,81,72},
{17,81,71},
{17,80,70},
{17,80,69},
{17,78,67},
{17,78,66},
{17,77,65},
{17,77,64},
{17,75,62},
{17,75,61},
{17,73,59},
{17,73,58},
{17,70,55},
{17,68,55},
{17,67,56},
{18,155,51},
{18,156,52},
{18,156,53},
{18,157,54},
{18,157,69},
{18,156,70},
{18,156,78},
{18,155,79},
{18,155,93},
{18,154,94},
{18,154,101},
{18,152,103},
{18,151,103},
{18,150,104},
{18,149,103},
{18,147,103},
{18,146,102},
{18,145,102},
{18,142,99},
{18,142,97},
{18,144,95},
{18,144,94},
{18,146,92},
{18,146,86},
{18,144,84},
{18,144,83},
{18,141,80},
{18,141,79},
{18,140,78},
{18,138,78},
{18,139,78},
{18,141,80},
{18,141,81},
{18,144,84},
{18,144,85},
{18,146,87},
{18,146,91},
{18,144,93},
{18,144,94},
{18,142,96},
{18,142,100},
{18,144,102},
{18,146,102},
{18,147,103},
{18,149,103},
{18,150,104},
{18,151,103},
{18,153,103},
{18,154,102},
{18,154,94},
{18,155,93},
{18,155,79},
{18,156,78},
{18,156,70},
{18,157,69},
{18,157,54},
{18,156,53},
{18,156,51},
{19,231,50},
{19,229,52},
{19,229,53},
{19,228,54},
{19,228,55},
{19,227,56},
{19,227,57},
{19,225,59},
{19,225,64},
{19,226,64},
{19,225,63},
{19,225,60},
{19,227,58},
{19,227,57},
{19,228,56},
{19,228,55},
{19,229,54},
{19,229,53},
{19,231,51},
{19,232,51},
{19,233,50},
{19,234,51},
{19,235,51},
{19,236,52},
{19,237,52},
{19,238,53},
{19,239,53},
{19,240,54},
{19,242,54},
{19,243,55},
{19,244,55},
{19,245,56},
{19,247,56},
{19,248,57},
{19,249,57},
{19,250,58},
{19,251,58},
{19,252,59},
{19,253,59},
{19,254,60},
{19,256,60},
{19,257,61},
{19,258,61},
{19,259,62},
{19,260,62},
{19,261,63},
{19,262,63},
{19,263,64},
{19,264,64},
{19,265,65},
{19,266,65},
{19,267,66},
{19,268,66},
{19,270,68},
{19,271,68},
{19,272,69},
{19,273,69},
{19,274,70},
{19,275,70},
{19,276,71},
{19,277,71},
{19,279,73},
{19,280,73},
{19,282,75},
{19,282,78},
{19,281,79},
{19,279,79},
{19,278,80},
{19,275,80},
{19,275,81},
{19,274,82},
{19,275,83},
{19,275,84},
{19,276,85},
{19,276,86},
{19,279,89},
{19,279,90},
{19,285,96},
{19,285,97},
{19,287,99},
{19,286,100},
{19,286,101},
{19,284,103},
{19,280,103},
{19,279,102},
{19,278,102},
{19,277,101},
{19,277,100},
{19,275,98},
{19,275,97},
{19,274,96},
{19,274,95},
{19,273,94},
{19,273,93},
{19,272,92},
{19,272,91},
{19,270,89},
{19,270,88},
{19,269,87},
{19,269,86},
{19,266,83},
{19,266,82},
{19,260,76},
{19,259,76},
{19,256,73},
{19,255,73},
{19,254,72},
{19,253,72},
{19,252,71},
{19,250,71},
{19,249,70},
{19,247,70},
{19,246,69},
{19,243,69},
{19,242,68},
{19,240,68},
{19,239,67},
{19,237,67},
{19,236,66},
{19,234,66},
{19,233,65},
{19,228,65},
{19,233,65},
{19,234,66},
{19,236,66},
{19,237,67},
{19,239,67},
{19,240,68},
{19,242,68},
{19,243,69},
{19,246,69},
{19,247,70},
{19,249,70},
{19,250,71},
{19,251,71},
{19,252,72},
{19,253,72},
{19,254,73},
{19,255,73},
{19,258,76},
{19,259,76},
{19,266,83},
{19,266,84},
{19,269,87},
{19,269,88},
{19,270,89},
{19,270,90},
{19,272,92},
{19,272,93},
{19,273,94},
{19,273,95},
{19,274,96},
{19,274,97},
{19,275,98},
{19,275,99},
{19,277,101},
{19,277,102},
{19,279,102},
{19,280,103},
{19,285,103},
{19,286,102},
{19,286,100},
{19,287,99},
{19,286,98},
{19,286,97},
{19,285,96},
{19,285,95},
{19,279,89},
{19,279,88},
{19,276,85},
{19,276,84},
{19,274,82},
{19,276,80},
{19,278,80},
{19,279,79},
{19,282,79},
{19,282,76},
{19,283,75},
{19,281,73},
{19,280,73},
{19,278,71},
{19,277,71},
{19,276,70},
{19,275,70},
{19,274,69},
{19,273,69},
{19,272,68},
{19,271,68},
{19,269,66},
{19,268,66},
{19,267,65},
{19,266,65},
{19,265,64},
{19,264,64},
{19,263,63},
{19,262,63},
{19,261,62},
{19,260,62},
{19,259,61},
{19,258,61},
{19,257,60},
{19,255,60},
{19,254,59},
{19,253,59},
{19,252,58},
{19,250,58},
{19,249,57},
{19,248,57},
{19,247,56},
{19,246,56},
{19,245,55},
{19,244,55},
{19,243,54},
{19,241,54},
{19,240,53},
{19,239,53},
{19,238,52},
{19,237,52},
{19,236,51},
{19,234,51},
{19,233,50},
{19,232,51},
{20,122,43},
{20,121,44},
{20,119,44},
{20,118,45},
{20,116,45},
{20,115,46},
{20,113,46},
{20,112,47},
{20,111,47},
{20,109,49},
{20,108,49},
{20,103,54},
{20,102,54},
{20,98,58},
{20,98,59},
{20,97,60},
{20,93,60},
{20,92,59},
{20,89,59},
{20,88,58},
{20,85,58},
{20,84,59},
{20,82,59},
{20,83,60},
{20,82,61},
{20,82,62},
{20,84,64},
{20,85,64},
{20,87,66},
{20,88,66},
{20,90,68},
{20,91,68},
{20,94,71},
{20,95,71},
{20,100,76},
{20,100,77},
{20,104,81},
{20,104,82},
{20,108,86},
{20,108,90},
{20,109,89},
{20,108,88},
{20,108,85},
{20,104,81},
{20,104,80},
{20,100,76},
{20,100,75},
{20,96,71},
{20,95,71},
{20,92,68},
{20,91,68},
{20,89,66},
{20,88,66},
{20,86,64},
{20,85,64},
{20,82,61},
{20,85,58},
{20,88,58},
{20,89,59},
{20,92,59},
{20,93,60},
{20,97,60},
{20,103,54},
{20,104,54},
{20,109,49},
{20,110,49},
{20,112,47},
{20,113,47},
{20,114,46},
{20,115,46},
{20,116,45},
{20,118,45},
{20,119,44},
{20,121,44},
{20,122,43},
{20,126,43},
{20,128,45},
{20,128,51},
{20,127,52},
{20,127,59},
{20,126,60},
{20,126,67},
{20,127,68},
{20,127,95},
{20,128,96},
{20,128,97},
{20,132,97},
{20,132,95},
{20,133,94},
{20,133,91},
{20,134,90},
{20,134,84},
{20,135,83},
{20,135,81},
{20,136,80},
{20,136,78},
{20,136,79},
{20,135,80},
{20,135,83},
{20,134,84},
{20,134,90},
{20,133,91},
{20,133,94},
{20,132,95},
{20,132,96},
{20,131,97},
{20,129,97},
{20,128,96},
{20,128,95},
{20,127,94},
{20,127,68},
{20,126,67},
{20,126,60},
{20,127,59},
{20,127,52},
{20,128,51},
{20,128,44},
{20,127,43},
{21,164,35},
{21,163,36},
{21,160,36},
{21,159,37},
{21,157,37},
{21,156,38},
{21,154,38},
{21,153,39},
{21,151,39},
{21,150,40},
{21,149,40},
{21,148,41},
{21,147,41},
{21,146,42},
{21,145,42},
{21,143,44},
{21,142,44},
{21,140,46},
{21,139,46},
{21,137,48},
{21,136,48},
{21,134,50},
{21,134,51},
{21,135,52},
{21,134,53},
{21,133,53},
{21,134,54},
{21,134,53},
{21,135,52},
{21,137,54},
{21,138,53},
{21,139,53},
{21,140,52},
{21,143,52},
{21,144,51},
{21,148,51},
{21,149,50},
{21,153,50},
{21,149,50},
{21,148,51},
{21,144,51},
{21,143,52},
{21,140,52},
{21,139,53},
{21,138,53},
{21,137,54},
{21,134,51},
{21,137,48},
{21,138,48},
{21,140,46},
{21,141,46},
{21,143,44},
{21,144,44},
{21,146,42},
{21,147,42},
{21,148,41},
{21,149,41},
{21,150,40},
{21,151,40},
{21,152,39},
{21,153,39},
{21,154,38},
{21,156,38},
{21,157,37},
{21,159,37},
{21,160,36},
{21,163,36},
{21,164,35},
{21,167,35},
{21,169,37},
{21,169,46},
{21,168,47},
{21,168,61},
{21,167,62},
{21,167,104},
{21,168,105},
{21,170,105},
{21,171,106},
{21,180,106},
{21,181,107},
{21,181,108},
{21,182,109},
{21,182,110},
{21,181,111},
{21,181,112},
{21,179,114},
{21,179,115},
{21,177,117},
{21,177,118},
{21,176,119},
{21,175,119},
{21,174,120},
{21,173,120},
{21,172,121},
{21,167,121},
{21,167,125},
{21,166,126},
{21,166,144},
{21,167,145},
{21,167,149},
{21,168,150},
{21,168,151},
{21,170,153},
{21,170,154},
{21,170,152},
{21,168,150},
{21,168,149},
{21,167,148},
{21,167,145},
{21,166,144},
{21,166,126},
{21,167,125},
{21,167,122},
{21,168,121},
{21,172,121},
{21,173,120},
{21,175,120},
{21,179,116},
{21,179,115},
{21,181,113},
{21,181,111},
{21,182,110},
{21,182,109},
{21,181,108},
{21,182,107},
{21,181,106},
{21,171,106},
{21,170,105},
{21,169,105},
{21,167,103},
{21,167,62},
{21,168,61},
{21,168,47},
{21,169,46},
{21,169,36},
{21,168,35},
{22,333,33},
{22,332,34},
{22,328,34},
{22,327,35},
{22,324,35},
{22,323,36},
{22,319,36},
{22,318,37},
{22,314,37},
{22,313,38},
{22,311,38},
{22,310,39},
{22,307,39},
{22,306,40},
{22,305,40},
{22,304,41},
{22,302,41},
{22,301,42},
{22,299,42},
{22,297,44},
{22,296,44},
{22,295,45},
{22,294,45},
{22,293,46},
{22,292,46},
{22,290,48},
{22,289,48},
{22,288,49},
{22,288,50},
{22,289,51},
{22,288,52},
{22,289,53},
{22,289,51},
{22,288,50},
{22,290,48},
{22,291,48},
{22,293,46},
{22,294,46},
{22,295,45},
{22,296,45},
{22,297,44},
{22,298,44},
{22,300,42},
{22,302,42},
{22,303,41},
{22,304,41},
{22,305,40},
{22,306,40},
{22,307,39},
{22,310,39},
{22,311,38},
{22,313,38},
{22,314,37},
{22,318,37},
{22,319,36},
{22,323,36},
{22,324,35},
{22,327,35},
{22,328,34},
{22,332,34},
{22,333,33},
{22,334,33},
{22,335,34},
{22,336,34},
{22,337,35},
{22,337,45},
{22,336,46},
{22,336,57},
{22,335,58},
{22,335,82},
{22,334,83},
{22,334,127},
{22,335,128},
{22,335,156},
{22,336,157},
{22,336,160},
{22,337,161},
{22,336,162},
{22,336,163},
{22,334,165},
{22,333,165},
{22,332,166},
{22,330,166},
{22,329,167},
{22,324,167},
{22,323,166},
{22,323,165},
{22,322,164},
{22,322,153},
{22,321,152},
{22,321,126},
{22,322,125},
{22,322,93},
{22,323,92},
{22,323,78},
{22,324,77},
{22,324,56},
{22,323,55},
{22,323,52},
{22,321,50},
{22,319,50},
{22,318,49},
{22,310,49},
{22,309,50},
{22,302,50},
{22,301,51},
{22,297,51},
{22,296,52},
{22,293,52},
{22,292,53},
{22,291,52},
{22,292,53},
{22,293,52},
{22,296,52},
{22,297,51},
{22,301,51},
{22,302,50},
{22,309,50},
{22,310,49},
{22,318,49},
{22,319,50},
{22,320,50},
{22,323,53},
{22,323,55},
{22,324,56},
{22,324,77},
{22,323,78},
{22,323,92},
{22,322,93},
{22,322,125},
{22,321,126},
{22,321,152},
{22,322,153},
{22,322,164},
{22,323,165},
{22,323,167},
{22,329,167},
{22,330,166},
{22,332,166},
{22,333,165},
{22,335,165},
{22,336,164},
{22,336,162},
{22,337,161},
{22,336,160},
{22,336,157},
{22,335,156},
{22,335,128},
{22,334,127},
{22,334,83},
{22,335,82},
{22,335,58},
{22,336,57},
{22,336,46},
{22,337,45},
{22,337,34},
{22,336,33},
{22,335,34},
{22,334,33},

	};
	//数组定义：
	//下标0: 轮廓号 
	//下标1: x坐标
	//下标2: y坐标
	
 
	
	printf("按0启动程序\n"); //仿真专用，无需移植到单片机 

	SetTim4Pwm(1,180);	//抬起笔
	
	while (1)	  
	{	
		key_num = key();  //读取按键

		if(key_num == '0')  //按下数字0
		{
			fp=fopen("result.txt","w");  //仿真专用，无需移植到单片机 
			
			//绘图
				
			Move(x,y,point[i][1],point[i][2]);//移动到起点
			
			for(n=0;n<38;n++)
			{

				SetTim4Pwm(1,90);	 //放下笔
				delay_ms(50);
				
				while(n==point[i+1][0])
				{
					printf("正在处理第%d条路径\n",i);  //仿真专用，无需移植到单片机
					
					//开始绘制
					DrawLine(point[i][1],point[i][2],point[i+1][1],point[i+1][2]);	
								
					//更新当前坐标
					x = point[i+1][1];
					y = point[i+1][1];
					i++;
				}
				printf("正在处理第%d条路径\n",i);  //仿真专用，无需移植到单片机
				DrawLine(point[i][1],point[i][2],point[j][1],point[j][2]);
				i++;
				
				//printf(i);
				
				//抬起笔
				//SetTim4Pwm(1,180);	
				//delay_ms(50);
				 
				
				//移动到起点
				Move(point[j][1],point[j][2],point[i][1],point[i][2]);
				
				j = i;
			}
			
			fclose(fp); //仿真专用，无需移植到单片机 
			printf("处理完成\n"); //仿真专用，无需移植到单片机 
		}
	}
	
    return 0;
}

